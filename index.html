<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¬ Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø² ğŸ¬</title>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}

body{
    font-family:"Vazirmatn",sans-serif;
    background:#0e0e0f;
    color:#fff;
    overflow-x:hidden;
    background:linear-gradient(45deg,#0e0e0f,#1a1a1a,#0e0e0f);
    background-size:400% 400%;
    animation:gradientEffect 15s ease infinite;
}

@keyframes gradientEffect {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

/* Ø°Ø±Ø§Øª Ø·Ù„Ø§ÛŒÛŒ */
#gold-particles{
    position:fixed;top:0;left:0;width:100%;height:100%;
    overflow:hidden;pointer-events:none;z-index:0;
}
.particle{
    position:absolute;
    width:4px;height:4px;
    background:rgba(255,215,0,0.8);
    border-radius:50%;
    box-shadow:0 0 6px rgba(255,215,0,0.9);
    animation:floatDown linear infinite;
}
@keyframes floatDown{
    from{transform:translateY(-120vh);opacity:1}
    to{transform:translateY(120vh);opacity:0}
}

header{
    background:rgba(0,0,0,0.5);
    backdrop-filter:blur(6px);
    padding:15px 25px;
    display:flex;justify-content:flex-end;align-items:center;
    border-bottom:1px solid rgba(48,48,48,0.5);
    position:sticky;top:0;z-index:10;
    text-shadow:0 0 10px rgba(255,215,0,0.25);
}
.logo-fa{
    font-weight:700;font-size:26px;
    background:linear-gradient(45deg,#ffd700,#ffb300);
    -webkit-background-clip:text;color:transparent;
}

main{padding:20px 15px;}

h2{
    color:#ffd700;font-size:28px;text-align:center;
    margin-bottom:30px;border-bottom:3px solid #ffd700;
    display:inline-block;padding-bottom:6px;
    text-shadow:0 0 8px rgba(255,215,0,0.3);
}

.movies-grid{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:20px;
    max-width:1200px;
    margin:0 auto;
}

.movie-card{perspective:1000px;position:relative;}

.movie-card::before{
    content:'';
    position:absolute;
    width:300px;height:440px;
    border-radius:20px;
    background:radial-gradient(circle,rgba(255,215,0,0.15),transparent 60%);
    filter:blur(25px);top:-10px;left:-10px;z-index:-1;
}

.card-inner{
    width:280px;height:420px;
    position:relative;
    transform-style:preserve-3d;
    transition:transform .25s ease;
    cursor:pointer;
    /* tilt variables */
    --tiltX:0deg;--tiltY:0deg;
    transform:rotateX(var(--tiltX)) rotateY(var(--tiltY));
}

.card-inner.flipped{
    transform:rotateX(var(--tiltX)) rotateY(calc(var(--tiltY) + 180deg));
}

.card-inner::before{
    content:"";
    position:absolute;top:-12px;left:-12px;right:-12px;bottom:-12px;
    border-radius:18px;pointer-events:none;
    filter:blur(18px);
    background:radial-gradient(circle at 50% 30%,rgba(255,215,0,0.20),rgba(255,215,0,0.08) 30%,transparent 55%);
}

.card-front,.card-back{
    position:absolute;top:0;left:0;
    width:100%;height:100%;
    border-radius:14px;overflow:hidden;
    backface-visibility:hidden;
    border:1px solid rgba(34,34,34,0.5);
    background:rgba(19,19,20,0.6);
    backdrop-filter:blur(8px);
    z-index:1;
}

.card-back{
    transform:rotateY(180deg);
    padding:15px;text-align:right;font-size:14px;
}

.img-bar img{width:100%;height:100%;object-fit:cover;}

.date-bar,.title-bar,.reserve-bar{
    height:36px;line-height:36px;text-align:center;padding:0 10px;
    background:rgba(0,0,0,0.3);
    border-top:1px solid rgba(255,255,255,0.1);
}

.reserve-bar{
    background:#ffd700;color:#000;font-weight:bold;cursor:pointer;
}

/* Reveal Ø³Ø§Ø¯Ù‡â€ŒØªØ± */
.reveal{
    opacity:0;transform:translateY(20px);
    transition:opacity .45s ease,transform .45s ease;
}
.reveal.visible{opacity:1;transform:translateY(0)}

footer{
    background:rgba(0,0,0,0.5);
    backdrop-filter:blur(10px);
    padding:25px;text-align:center;
    border-top:1px solid rgba(48,48,48,0.5);
}

.social-icon{
    width:48px;height:48px;border-radius:50%;
    background:rgba(26,26,26,0.7);
    backdrop-filter:blur(3px);
    display:flex;justify-content:center;align-items:center;
    color:#ffd700;font-size:22px;
}
.social-icon:hover{background:#ffd700;color:#000}

/* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
@media(max-width:1200px){.movies-grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:768px){.movies-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:480px){.movies-grid{grid-template-columns:1fr}}
</style>
</head>

<body>

<div id="gold-particles"></div>

<!-- Ù„ÙˆØ¯Ø± Ø¬Ø¯ÛŒØ¯ ÙÙˆÙ‚ Ø³Ø¨Ú© -->
<div id="loading-overlay" style="
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:#111;display:flex;align-items:center;justify-content:center;
    z-index:9999;transition:opacity .4s;
">
    <div style="
        width:22px;height:22px;border:3px solid #444;
        border-top-color:#ffd700;border-radius:50%;
        animation:spin 1s linear infinite;
    "></div>
</div>

<style>
@keyframes spin {to{transform:rotate(360deg)}}
</style>

<header><div class="logo-fa">Soft Shiraz</div></header>

<main>
    <section>
        <h2>Ø§Ú©Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡</h2>
        <div class="movies-grid" id="cards-container"></div>
    </section>
</main>

<footer>
    <div class="footer-title" style="color:#ffd700;margin-bottom:18px">Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø²</div>
    <div style="display:flex;gap:18px;justify-content:center;">
        <a class="social-icon" href="https://t.me/softshiraz"><i class="fab fa-telegram"></i></a>
        <a class="social-icon" href="https://instagram.com/soft_shiraz"><i class="fab fa-instagram"></i></a>
        <a class="social-icon" id="about-btn"><i class="fas fa-info"></i></a>
    </div>

    <div id="about-popup" style="
        display:none;position:fixed;top:50%;left:50%;
        transform:translate(-50%,-50%);
        width:300px;background:rgba(17,17,17,0.95);
        border:2px solid rgba(255,215,0,0.5);
        border-radius:12px;padding:20px;z-index:1000;
    ">
        <strong>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§:</strong>
        <p>Ø³Ø§ÙØª Ø´ÛŒØ±Ø§Ø² Ù…Ø±Ø¬Ø¹ Ù…Ø¹Ø±ÙÛŒ ÙÛŒÙ„Ù…â€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ùˆ Ø§Ø®Ø¨Ø§Ø± Ø³ÛŒÙ†Ù…Ø§ Ø§Ø³Øª.</p>
    </div>
</footer>

<script>
/* Ø·Ù„Ø§ÛŒÛŒâ€ŒÙ‡Ø§ */
const particleContainer = document.getElementById("gold-particles");
for(let i=0;i<80;i++){
    const p=document.createElement("div");
    p.className="particle";
    const size=Math.random()*3+2;
    p.style.width=size+"px";
    p.style.height=size+"px";
    p.style.left=Math.random()*100+"%";
    p.style.top=Math.random()*-100+"vh";
    p.style.animationDuration=(Math.random()*4+4)+"s";
    p.style.animationDelay=(Math.random()*3)+"s";
    particleContainer.appendChild(p);
}

/* Ù„ÙˆØ¯Ø± Ø³Ø¨Ú© */
window.addEventListener("load",()=>{
    setTimeout(()=>{
        document.getElementById("loading-overlay").style.opacity="0";
        setTimeout(()=>document.getElementById("loading-overlay").remove(),400);
    },1500);
});

/* Reveal */
const revealObserver=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
        if(e.isIntersecting){
            e.target.classList.add("visible");
            revealObserver.unobserve(e.target);
        }
    });
},{threshold:0.12});

/* Tilt ÙÙ‚Ø· Ø¯Ø³Ú©ØªØ§Ù¾ */
const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

/* Tilt */
function attachTilt(inner){
    if(isMobile) return; // Ø®Ø§Ù…ÙˆØ´ Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„

    const maxTilt=8;

    function move(e){
        const rect=inner.getBoundingClientRect();
        const x=(e.clientX - rect.left)/rect.width - 0.5;
        const y=(e.clientY - rect.top)/rect.height - 0.5;
        inner.style.setProperty('--tiltX',(-y*maxTilt)+'deg');
        inner.style.setProperty('--tiltY',(x*maxTilt)+'deg');
    }

    function reset(){
        inner.style.setProperty('--tiltX','0deg');
        inner.style.setProperty('--tiltY','0deg');
    }

    inner.addEventListener("mousemove",move);
    inner.addEventListener("mouseleave",reset);
}

/* Ù„ÙˆØ¯ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
const container=document.getElementById("cards-container");

async function loadCards(){
    for(let i=1;i<=12;i++){
        try{
            const r=await fetch(`cards/${i}.html`,{cache:"no-store"});
            if(!r.ok) continue;

            const html=await r.text();
            const card=document.createElement("div");
            card.className="movie-card reveal";
            card.innerHTML=html;

            container.appendChild(card);
            revealObserver.observe(card);

            const inner=card.querySelector(".card-inner");
            if(inner) attachTilt(inner);

            const reserve=card.querySelector(".reserve-bar");
            if(reserve){
                reserve.onclick=()=>window.location.href="https://t.me/softshirazadmin";
            }
        }catch{}
    }
}
loadCards();

/* Flip */
let openCard=null;
document.addEventListener("click",(e)=>{
    const cardInner=e.target.closest(".card-inner");
    if(cardInner){
        if(openCard && openCard!==cardInner) openCard.classList.remove("flipped");
        cardInner.classList.toggle("flipped");
        openCard=cardInner.classList.contains("flipped")?cardInner:null;
    }
});

/* Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§ */
const aboutBtn=document.getElementById("about-btn");
const aboutPopup=document.getElementById("about-popup");

aboutBtn.onclick=(e)=>{
    e.stopPropagation();
    aboutPopup.style.display=
        (aboutPopup.style.display==="block")?"none":"block";
};

document.addEventListener("click",(e)=>{
    if(e.target!==aboutBtn && !aboutPopup.contains(e.target)){
        aboutPopup.style.display="none";
    }
});
</script>
</body>
</html>
